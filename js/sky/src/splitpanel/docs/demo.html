
<style>
    .bb-custom-content-item {
        border-bottom: 1px solid green;
        padding: 20px;
    }

    .split-pattern-container {
        -ms-box-orient: horizontal;
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -moz-flex;
        display: -webkit-flex;
        display: flex;
        -webkit-justify-content: space-around;
        justify-content: space-around;
        -webkit-flex-flow: row wrap;
        flex-flow: row wrap;
        -webkit-align-items: stretch;
        align-items: stretch;
    }

    .bb-split-panel .bb-custom-content {
        flex: 1;
    }

    .bb-custom-content-selectable-item {
        cursor: pointer;
    }

    .split-panel-workspace {
        flex: 2;
        border-left: grey 5px solid;
        padding-left: 10px;
    }

    .split-panel-workspace-container {
        height: 71vh;
        overflow-y: auto;
    }



    .selectedItem {
        border-left: #1c84c6 3px solid;
        padding-left: 17px;
    }

    .split-panel .work-space-footer {
        position: fixed;
        left: 0;
        width: 100%;
        z-index: 10000;
        bottom: 0;
    }

    .fixedHeader {
        border-bottom: 1px solid #e5e5e5;
    }

    .split-panel-list-container {
        height: 90vh;
        overflow-y: auto;
    }

    .split-panel-workspace-footer {
        background-color: lightgray;
        border: 1px solid darkgray;
        padding: 5px;
    }

    .split-panel-workspace-fixed-header {
        background-color: lightgray;
        padding: 10px;
        border: 1px solid gray;
    }

    .bb-split-panel-width-100 {
        width:100%;
    }
</style>
<div ng-controller="ListbuilderTestController as listCtrl">
    <bb-listbuilder class="bb-split-panel">
        <bb-listbuilder-toolbar bb-listbuilder-on-search="listCtrl.onSearch(searchText)"
                                bb-listbuilder-search-text="listCtrl.searchText">
            <bb-listbuilder-filter>
                <bb-filter-button bb-filter-button-on-click="listCtrl.onFilterClick()">
                </bb-filter-button>
            </bb-listbuilder-filter>
            <bb-listbuilder-sort>
                <bb-sort bb-sort-append-to-body>
                    <bb-sort-item ng-repeat="item in listCtrl.sortOptions"
                                  bb-sort-item-active="listCtrl.initialState === item.id"
                                  bb-sort-item-select="listCtrl.sortItems(item)">
                        {{item.label}}
                    </bb-sort-item>
                </bb-sort>
            </bb-listbuilder-sort>
            <bb-listbuilder-filter-summary>
                <bb-filter-summary ng-show="listCtrl.appliedFilters.length > 0">
                    <bb-filter-summary-item ng-repeat="item in listCtrl.appliedFilters"
                                            bb-filter-summary-item-on-click="listCtrl.openFilters()"
                                            bb-filter-summary-item-on-dismiss="listCtrl.onDismissFilter($index)">
                        {{item.label}}
                    </bb-filter-summary-item>
                </bb-filter-summary>
            </bb-listbuilder-filter-summary>
        </bb-listbuilder-toolbar>
        <bb-listbuilder-content bb-listbuilder-content-active-view="custom-1"
                                bb-listbuilder-content-view-changed="listCtrl.viewChanged(newView)" bb-listbuilder-content-selected-item="custom-1">
            <bb-listbuilder-content-custom bb-listbuilder-content-custom-view-name="custom-1"
                                           bb-listbuilder-content-custom-view-switcher-class="fa-pied-piper"
                                           bb-listbuilder-content-custom-highlight-class="bb-custom-content-item"
                                           bb-listbuilder-content-custom-view-switcher-label="Switch to custom">
                <div class="split-pattern-container">
                    <div class="bb-custom-content">
                        <bb-splitpanel-list-header>
                            Transactions {{listCtrl.data.length}}
                        </bb-splitpanel-list-header>
                        <div class="split-panel-list-container">
                            <div class="bb-custom-content-item" bb-splitpanel-content-custom-item ng-repeat="item in listCtrl.data" bb-listbuilder-content-get-panel-data="listCtrl.getPaneldata(arg)" bb-splitpanel-item-is-active="$index === listCtrl.selectedItem.$index">
                                <div style="margin-bottom: 10px">
                                    {{item.name}}
                                </div>
                                <div style="margin-bottom: 10px">
                                    {{item.joinDate | date}}
                                </div>
                                <div style="margin-bottom: 10px">
                                    {{item.occupation}}
                                </div>
                                <div style="margin-bottom: 10px">
                                    {{item.newField}}
                                </div>
                            </div>
                        </div>
                    </div>

                    <bb-splitpanel-workspace class="split-panel-workspace">
                        <bb-splitpanel-workspace-fixed-header>
                            <h1 style="float:left;">Transaction</h1>
                            <div style="float:right;">
                                <button type="button" class="btn btn-default" ng-click="listCtrl.previous()">Back</button>
                                <button type="button" class="btn btn-default" ng-click="listCtrl.next()">Next</button>
                            </div>
                        </bb-splitpanel-workspace-fixed-header>
                        <bb-splitpanel-workspace-container>
                            <form>
                                Transaction
                                {{listCtrl.selectedItem.$index + 1}} of {{listCtrl.data.length}}


                                <br />
                                <br />
                                <br />
                                <br />
                                <bb-card bb-card-size="large" bb-card-selectable="{{listCtrl.showCheckbox}}" bb-card-selected="listCtrl.cardSelected">
                                    <bb-card-title ng-if="listCtrl.showTitle">Large card</bb-card-title>
                                    <bb-card-content ng-if="listCtrl.showContent">
                                        <div style="margin-bottom: 10px">
                                            {{listCtrl.selectedItem.name}}
                                        </div>
                                        <div style="margin-bottom: 10px">
                                            {{listCtrl.selectedItem.joinDate | date}}
                                        </div>
                                        <div style="margin-bottom: 10px">
                                            {{listCtrl.selectedItem.occupation}}
                                        </div>
                                    </bb-card-content>
                                    <bb-card-actions ng-if="listCtrl.showActions">
                                        <button type="button" class="btn btn-default" ng-click="listCtrl.next()">Click me</button>
                                    </bb-card-actions>
                                </bb-card>
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <div>
                                    <ul class="list-unstyled">
                                        <li>
                                            <label>
                                                <input type="checkbox" bb-check ng-model="listCtrl.showTitle" /> Show title
                                            </label>
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" bb-check ng-model="listCtrl.showContent" /> Show content
                                            </label>
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" bb-check ng-model="listCtrl.showActions" /> Show action
                                            </label>
                                        </li>
                                        <li>
                                            <label>
                                                <input type="checkbox" bb-check ng-model="listCtrl.showCheckbox" /> Show checkbox
                                            </label>
                                        </li>
                                    </ul>
                                </div>
                            </form>
                        </bb-splitpanel-workspace-container>

                        <bb-modal-footer>
                            <bb-modal-footer-button-primary></bb-modal-footer-button-primary>
                            <bb-modal-footer-button>Sample button</bb-modal-footer-button>
                            <bb-modal-footer-button-cancel></bb-modal-footer-button-cancel>
                        </bb-modal-footer>
                    </bb-splitpanel-workspace>
                </div>
            </bb-listbuilder-content-custom>
        </bb-listbuilder-content>

    </bb-listbuilder>
</div>

<script type="text/ng-template" id="demo/listbuilder/filters.html">
    <bb-modal>
        <div class="modal-form">
            <bb-modal-header>
                Food preferences
                <div style="float:right;">
                    <button type="button" class="btn btn-default" ng-click="listCtrl.previous()">Back</button>
                    <button type="button" class="btn btn-default" ng-click="listCtrl.next()">Next</button>
                </div>
            </bb-modal-header>
            <div bb-modal-body>
                <form>
                    <label style="margin-top: 15px;">
                        <input type="checkbox" bb-check ng-model="filterCtrl.filters.tenYears" />
                        Show only members with 10 years experience
                    </label>
                    <label style="margin-top: 15px;">
                        <input type="checkbox" bb-check ng-model="filterCtrl.filters.onlyUnpaid" />
                        Show only members with unpaid dues
                    </label>
                </form>
            </div>
            <bb-filter-modal-footer bb-filter-modal-apply="filterCtrl.applyFilters()"
                                    bb-filter-modal-clear="filterCtrl.clearAllFilters()">
            </bb-filter-modal-footer>
        </div>
    </bb-modal>
</script>


