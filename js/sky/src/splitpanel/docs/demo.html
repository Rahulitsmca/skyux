<div ng-controller="SplitPanelTestController as listCtrl">
    <div class="bb-splitpanel">
        <bb-splitpanel-header>
            <div>
                <h3>
                    Page Header
                </h3>
                <div>
                    <div>
                        $10.00
                    </div>
                    <div style="color:gray">Item total</div>
                </div>
            </div>
        </bb-splitpanel-header>
        <bb-listbuilder>
            <bb-listbuilder-toolbar bb-listbuilder-on-search="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.onSearch,searchText)"
                                    bb-listbuilder-search-text="listCtrl.searchText">
                <bb-listbuilder-filter>
                    <bb-filter-button bb-filter-button-on-click="listCtrl.onFilterClick()">
                    </bb-filter-button>
                </bb-listbuilder-filter>
                <bb-listbuilder-sort>
                    <bb-sort bb-sort-append-to-body>
                        <bb-sort-item ng-repeat="item in listCtrl.sortOptions"
                                      bb-sort-item-active="listCtrl.initialState === item.id"
                                      bb-sort-item-select="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.sortItems,item)">
                            {{item.label}}
                        </bb-sort-item>
                    </bb-sort>
                </bb-listbuilder-sort>
                <bb-listbuilder-filter-summary>
                    <bb-filter-summary ng-show="listCtrl.allAppliedFilters.length > 0">
                        <bb-filter-summary-item ng-repeat="item in listCtrl.allAppliedFilters"
                                                bb-filter-summary-item-on-click="listCtrl.openFilters()"
                                                bb-filter-summary-item-on-dismiss="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.onDismissFilter,$index)">
                            {{item.label}}
                        </bb-filter-summary-item>
                    </bb-filter-summary>
                </bb-listbuilder-filter-summary>
            </bb-listbuilder-toolbar>
            <bb-listbuilder-content bb-listbuilder-content-active-view="custom-1"
                                    bb-listbuilder-content-view-changed="listCtrl.viewChanged(newView)" bb-listbuilder-content-selected-item="custom-1">
                <bb-listbuilder-content-custom bb-listbuilder-content-custom-view-name="custom-1"
                                               bb-listbuilder-content-custom-view-switcher-class="fa-pied-piper"
                                               bb-listbuilder-content-custom-highlight-class="bb-custom-content-item"
                                               bb-listbuilder-content-custom-view-switcher-label="Switch to custom">
                    <div class="split-pattern-container">
                        <div class="bb-custom-content">
                            <bb-splitpanel-list-header>
                                <span>{{listCtrl.data.length}}</span> Transactions
                                <br /> as of {{listCtrl.updatedDate}} <span><a style="cursor: pointer" ng-click="listCtrl.downloadTransactions()">Refresh</a> </span>
                            </bb-splitpanel-list-header>
                            <div class="fixedHeader hidden-xs" style="padding-top: 6px;">
                                <input bb-check type="checkbox" ng-click="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.onlyShowRecorded)" value="false" ng-model="listCtrl.showUnrecord" /> only show unrecorded
                            </div>
                            <div ng-if="listCtrl.data.length > 0" class="split-panel-list-container">
                                <div class="bb-custom-content-item" bb-splitpanel-content-custom-item ng-repeat="item in listCtrl.data" bb-listbuilder-content-get-panel-data="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.getPaneldata,arg)" bb-splitpanel-item-is-active="$index === listCtrl.selectedItem.$index" ng-keydown="listCtrl.navigateUpAndDown()">
                                    <div style="margin-bottom: 10px">
                                        {{item.amount}}
                                        <span style="float: right" ng-if="item.status=='Recorded'"><i class="fa fa-check-circle fa-2x bb-SplitPanel-icon-sucess " aria-hidden="true"></i></span>
                                        <span style="float: right" ng-if="item.status=='Ignored'"><i class="fa fa-ban fa-2x" aria-hidden="true"></i></span>
                                    </div>
                                    <div style="margin-bottom: 10px">
                                        {{item.joinDate | date}}
                                    </div>
                                    <div style="margin-bottom: 10px">
                                        {{item.occupation}}
                                    </div>
                                    <div style="margin-bottom: 10px">
                                        {{item.merchant}}
                                    </div>
                                </div>
                            </div>

                            <div ng-if="listCtrl.data.length === 0" class="split-panel-list-container" ng-class="{'align-center':listCtrl.data.length===0}">
                                <i> No Items found</i>
                            </div>
                        </div>

                        <bb-splitpanel-workspace class="split-panel-workspace bb-splitpanel-hidden">
                            <bb-splitpanel-workspace-header class="bb-splitpanel-show-xs">

                                <div ng-click="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.back)" class="navigation-panel"> <div class="glyphicon glyphicon-chevron-left" style="color:gray"></div> Transaction {{listCtrl.selectedItem.$index + 1}} of {{listCtrl.data.length}}</div>

                                <div style="float:right;">
                                    <span type="button" class="glyphicon glyphicon-menu-up" ng-disabled="listCtrl.selectedItem.$index === 0" ng-click="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.previous)"></span>
                                    <span type="button" class="glyphicon glyphicon-menu-down" ng-disabled="listCtrl.selectedItem.$index === listCtrl.data.length-1" ng-click="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.next)"></span>
                                </div>
                            </bb-splitpanel-workspace-header>

                            <bb-splitpanel-selected-item>
                                <div>
                                    {{listCtrl.selectedItem.amount}}
                                </div>
                                <div>
                                    {{listCtrl.selectedItem.joinDate | date}}
                                </div>
                                <div>
                                    {{listCtrl.selectedItem.occupation}}
                                </div>
                                <div>
                                    {{listCtrl.selectedItem.merchant}}
                                </div>
                            </bb-splitpanel-selected-item>

                            <bb-splitpanel-workspace-container ng-if="listCtrl.data.length > 0">
                                <form name="forms.workspaceContainerForm">

                                    <input type="checkbox" bb-check ng-model="listCtrl.isPersonal" /> Personal

                                    <br />
                                    <br />
                                    <br />
                                    Amount: <input type="text" ng-model="listCtrl.selectedItem.amount" />
                                    <br />
                                    <br />
                                    <bb-card bb-card-size="large" bb-card-selectable="{{listCtrl.showCheckbox}}" bb-card-selected="listCtrl.cardSelected">
                                        <bb-card-title ng-if="listCtrl.showTitle">Large card</bb-card-title>
                                        <bb-card-content ng-if="listCtrl.showContent">
                                            <div style="margin-bottom: 10px">
                                                {{listCtrl.selectedItem.amount}}
                                            </div>
                                            <div style="margin-bottom: 10px">
                                                {{listCtrl.selectedItem.joinDate | date}}
                                            </div>
                                            <div style="margin-bottom: 10px">
                                                {{listCtrl.selectedItem.occupation}}
                                            </div>
                                        </bb-card-content>
                                        <bb-card-actions ng-if="listCtrl.showActions">
                                            <button type="button" class="btn btn-default" ng-click="next()">Click me</button>
                                        </bb-card-actions>
                                    </bb-card>
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <div>
                                        <ul class="list-unstyled">
                                            <li>
                                                <label>
                                                    <input type="checkbox" bb-check ng-model="listCtrl.showTitle" /> Show title
                                                </label>
                                            </li>
                                            <li>
                                                <label>
                                                    <input type="checkbox" bb-check ng-model="listCtrl.showContent" /> Show content
                                                </label>
                                            </li>
                                            <li>
                                                <label>
                                                    <input type="checkbox" bb-check ng-model="listCtrl.showActions" /> Show action
                                                </label>
                                            </li>
                                            <li>
                                                <label>
                                                    <input type="checkbox" bb-check ng-model="listCtrl.showCheckbox" /> Show checkbox
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </form>
                            </bb-splitpanel-workspace-container>

                            <bb-modal-footer ng-if="listCtrl.data.length > 0">
                                <bb-modal-footer-button-primary ng-click="listCtrl.splitpanelNavigator.checkDirtyForm(listCtrl.record)">Record transaction</bb-modal-footer-button-primary>
                                <bb-modal-footer-button>Save</bb-modal-footer-button>
                                <bb-modal-footer-button>Ignore transaction</bb-modal-footer-button>
                            </bb-modal-footer>
                        </bb-splitpanel-workspace>
                    </div>
                </bb-listbuilder-content-custom>
            </bb-listbuilder-content>
        </bb-listbuilder>
    </div>
</div>

<script type="text/ng-template" id="demo/listbuilder/filters.html">
    <bb-modal>
        <div class="modal-form">
            <bb-modal-header>Food preferences</bb-modal-header>
            <div bb-modal-body>
                <form>
                    <label style="margin-top: 15px;">
                        <input type="checkbox" bb-check ng-model="filterCtrl.filters.tenYears" />
                        Show only members with 10 years experience
                    </label>
                </form>
            </div>
            <bb-filter-modal-footer bb-filter-modal-apply="filterCtrl.splitpanelNavigator.checkDirtyForm(filterCtrl.applyFilters)"
                                    bb-filter-modal-clear="filterCtrl.clearAllFilters()">
            </bb-filter-modal-footer>
        </div>
    </bb-modal>
</script>
<script type="text/ng-template" id="demo/splitpanel/confirmpopup.html">
    <bb-modal>
        <div class="modal-form">
            <bb-modal-header>Save changes?</bb-modal-header>
            <div bb-modal-body>
                <form>
                    Do you want to save changes to this transaction? Your  changes will be lost if  you  don't save them.

                </form>
            </div>
            <bb-modal-footer>
                <bb-modal-footer-button-primary ng-click="ctrl.save()">Save</bb-modal-footer-button-primary>
                <bb-modal-footer-button ng-click="ctrl.doNotSave()">Don't save</bb-modal-footer-button>
                <bb-modal-footer-button-cancel></bb-modal-footer-button-cancel>
            </bb-modal-footer>
        </div>
    </bb-modal>
</script>

